<!-- after-danger.html -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>After Danger - Y2KBZ.live</title>
<style>
  html, body {
    margin: 0; height: 100%; overflow: hidden;
    background-color: black;
    color: #33ff33;
    font-family: monospace, monospace;
    user-select: none;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }
  #terminal {
    white-space: pre-wrap;
    width: 90vw;
    height: 80vh;
    overflow-y: auto;
  }
  #finalText {
    display: none;
    color: white;
    font-family: 'Shrikhand', cursive;
    font-size: 4em;
    user-select: none;
  }
</style>
<link href="https://fonts.googleapis.com/css2?family=Shrikhand&display=swap" rel="stylesheet" />
</head>
<body>
  <pre id="terminal"></pre>
  <div id="finalText">Y2KBZ.live</div>

<script>
  const terminal = document.getElementById('terminal');
  const finalText = document.getElementById('finalText');

  const fakeLines = [
    "Initializing hack sequence...",
    "Bypassing firewall...",
    "Injecting payload...",
    "Accessing secure shell...",
    "Downloading confidential data...",
    "Decrypting files...",
    "Uploading backdoor...",
    "Escalating privileges...",
    "Cleaning logs...",
    "Hack complete."
  ];

  function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  async function typeFastFakeCommands(durationMs) {
    terminal.textContent = "";
    const startTime = Date.now();
    while (Date.now() - startTime < durationMs) {
      const line = fakeLines[Math.floor(Math.random() * fakeLines.length)];
      terminal.textContent += line + "\n";
      terminal.scrollTop = terminal.scrollHeight;
      // Very fast typing, ~100ms per line
      await sleep(100);
    }
  }

  async function flashRedBlack(times, intervalMs) {
    let count = 0;
    return new Promise(resolve => {
      const flashInterval = setInterval(() => {
        document.body.style.backgroundColor = (count % 2 === 0) ? 'red' : 'black';
        count++;
        if (count >= times * 2) {
          clearInterval(flashInterval);
          resolve();
        }
      }, intervalMs);
    });
  }

  (async () => {
    // Step 1: fast fake hacker typing for 6 sec
    await typeFastFakeCommands(6000);

    // Step 2: clear screen and show black background
    terminal.style.display = 'none';
    finalText.style.display = 'block';
    document.body.style.backgroundColor = 'black';

    // Step 3: Wait 3 seconds
    await sleep(3000);

    // Step 4: flash red and black very fast (about 15 times, 50ms interval)
    await flashRedBlack(15, 10);

    // Step 5: redirect to home.html
    window.location.href = "home.html";
  })();
</script>
</body>
</html>
